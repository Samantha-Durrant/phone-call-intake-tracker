<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Screenpop Analytics</title>
    <meta name="color-scheme" content="light dark" />
    <style>
      :root{ --line:#e5e7eb; --muted:#6b7280; --brand:#4f46e5; }
      *{ box-sizing:border-box }
      html,body{ height:100% }
      body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#f5f7fb; color:#111827; }
      header{ display:flex; align-items:center; justify-content:space-between; padding:10px 14px; background:linear-gradient(180deg,#f9fafb,#f3f4f6); border-bottom:1px solid var(--line) }
      .header-left{ display:flex; flex-direction:column; gap:2px }
      .header-actions{ display:flex; gap:8px; align-items:center }
      .wrap{ display:grid; grid-template-columns:minmax(360px, 560px) 1fr; gap:18px; padding:12px; }
      .panel{ background:#fff; border:1px solid var(--line); border-radius:14px; overflow:hidden; display:flex; flex-direction:column; box-shadow:0 12px 24px rgba(15,23,42,0.08); }
      .panel h2{ margin:0; padding:12px 16px; font-size:15px; font-weight:700; border-bottom:1px solid var(--line); background:#f9fafb }
      .panel .body{ flex:1; overflow:auto; padding:0 16px 16px }
      iframe{ width:100%; height:100%; border:0; display:block }
      .toolbar{ display:flex; gap:8px; align-items:center; padding:8px 12px; border-bottom:1px solid var(--line); background:#fff; flex-wrap:wrap }
      button{ height:32px; padding:0 10px; border-radius:8px; border:1px solid var(--line); background:#fff; cursor:pointer; font-weight:600 }
      button.primary{ background:var(--brand); border-color:var(--brand); color:#fff }
      .tab-toggle{ display:inline-flex; border:1px solid var(--line); border-radius:8px; overflow:hidden; background:#fff }
      .tab-toggle button{ border:none; border-right:1px solid var(--line); background:transparent; padding:6px 12px; font-weight:600; cursor:pointer; color:#111827 }
      .tab-toggle button:last-child{ border-right:none }
      .tab-toggle button.active{ background:#eef2ff; color:#1f2937 }
      table{ width:100%; border-collapse:collapse; font-size:13px }
      .chart-with-legend{ display:flex; gap:16px; align-items:flex-start; flex-wrap:wrap }
      .chart-with-legend canvas{ flex:1 1 260px }
      .chart-legend{ display:flex; flex-direction:column; gap:8px; min-width:160px; font-size:12px }
      .chart-legend .legend-item{ display:flex; align-items:center; gap:8px; cursor:default }
      .chart-legend .legend-item:hover{ opacity:.8 }
      .panel.allow-overflow{ overflow:visible }
      .panel.allow-overflow .body{ overflow:visible }
      .chart-legend .legend-item.has-details{ position:relative; align-items:flex-start; opacity:1 }
      .chart-legend .legend-item.has-details .legend-detail-hint{ color:var(--muted); font-size:11px }
      .chart-legend .legend-item.has-details[data-open] .legend-detail-hint{ color:var(--brand); font-weight:600 }
      .chart-legend .legend-item.has-details .legend-details{ display:none; position:absolute; left:calc(100% + 10px); top:-4px; background:#fff; border:1px solid var(--line); border-radius:10px; padding:10px 12px; box-shadow:0 10px 25px rgba(15,23,42,0.12); width:220px; max-width:260px; z-index:20 }
      .chart-legend .legend-item.has-details .legend-details-title{ font-weight:600; margin-bottom:6px; font-size:12px }
      .chart-legend .legend-item.has-details .legend-details-list{ margin:0; padding-left:18px; list-style:disc; display:flex; flex-direction:column; gap:4px; font-size:12px }
      .chart-legend .legend-item.has-details:hover .legend-details,
      .chart-legend .legend-item.has-details[data-open] .legend-details{ display:block }
      .chart-legend .swatch{ width:12px; height:12px; border-radius:3px }
      canvas.chart{ width:100%; height:180px; display:block }
      th, td{ text-align:left; padding:8px; border-bottom:1px solid var(--line); vertical-align:top }
      th{ position:sticky; top:0; background:#f9fafb; z-index:1 }
      .muted{ color:var(--muted) }
      .empty{ padding:16px; color:var(--muted) }
      /* Dashboard adjustments */
      .kpi-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); gap:12px; padding:12px 16px; border-bottom:1px solid var(--line); background:#fff }
      .kpi{ background:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; box-shadow:inset 0 1px 0 rgba(255,255,255,0.6) }
      .kpi .label{ color:var(--muted); font-size:12px }
      .kpi .value{ font-weight:700; font-size:22px }
      .charts{ display:grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap:16px; align-items:stretch }
      .panel.wide{ grid-column: 1 / -1 }
      .panel .body{ padding:8px }
      .panel.table-panel .body{ padding:0; overflow:auto }
      .panel.table-panel table{ min-width:860px }
      .appt-lists{ display:flex; gap:24px; flex-wrap:wrap }
      .appt-column{ flex:1 1 320px; min-width:280px; display:flex; flex-direction:column; gap:12px }
      .appt-column h3{ margin:0; font-size:15px }
      .appt-list{ list-style:none; padding:0; margin:0; border:1px solid var(--line); border-radius:12px; background:#fff; max-height:360px; overflow:auto }
      .appt-list li{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-bottom:1px solid var(--line); font-size:13px }
      .appt-meta{ display:flex; align-items:center; gap:8px; white-space:nowrap }
      .appt-percent{ color:var(--muted); font-size:12px }
      .appt-list li:last-child{ border-bottom:none }
      .appt-label{ flex:1; padding-right:12px }
      .appt-count{ font-weight:600 }
      .appt-empty{ padding:12px; color:var(--muted); font-style:italic }
      .reason-details{ display:flex; flex-direction:column; gap:8px; margin-top:8px }
      .reason-detail{ border:1px solid var(--line); border-radius:10px; background:#fff; }
      details.reason-detail{ padding:0; }
      details.reason-detail summary{ padding:10px 12px; cursor:pointer; list-style:none; font-weight:600; font-size:13px; color:#111827; display:flex; align-items:center; justify-content:space-between; gap:12px }
      details.reason-detail[open]{ box-shadow:0 10px 25px rgba(15,23,42,0.08); }
      details.reason-detail summary::-webkit-details-marker{ display:none; }
      details.reason-detail summary .chevron{ display:inline-block; transition:transform .2s ease; margin-left:8px; color:#6b7280; font-size:11px; }
      details.reason-detail[open] summary .chevron{ transform:rotate(180deg); }
      details.reason-detail .reason-detail-body{ padding:0 12px 12px; }
      .reason-detail-title{ font-weight:600; font-size:13px; color:#111827; flex:1 }
      .reason-count-badge{ display:inline-flex; align-items:center; justify-content:center; min-width:32px; padding:0 10px; height:20px; border-radius:999px; background:#eef2ff; color:#4338ca; font-size:12px; font-weight:600 }
      .reason-detail-list{ margin:8px 0 0; padding-left:18px; display:flex; flex-direction:column; gap:4px; font-size:12px; color:#374151 }
      .reason-detail-empty{ padding:8px 0; font-size:12px }
      .reason-legend{ margin-top:10px; font-size:12px; color:#374151; background:#fff; border:1px solid var(--line); border-radius:10px; padding:10px 12px; }
      .reason-legend strong{ display:block; font-size:13px; margin-bottom:6px; color:#111827; }
      .reason-legend ul{ margin:0; padding-left:18px; list-style:disc; display:flex; flex-direction:column; gap:4px; }
      .change-breakdown{ display:flex; gap:24px; flex-wrap:wrap }
      .change-column{ flex:1 1 240px; min-width:220px; display:flex; flex-direction:column; gap:8px }
      .change-column h3{ margin:0; font-size:15px }
      .change-list{ list-style:none; margin:0; padding:0; border:1px solid var(--line); border-radius:12px; background:#fff; max-height:260px; overflow:auto }
      .change-list li{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-bottom:1px solid var(--line); font-size:13px }
      .change-list li:last-child{ border-bottom:none }
      .change-label{ flex:1; padding-right:12px }
      .change-meta{ display:flex; gap:8px; align-items:center; white-space:nowrap }
      .change-count{ font-weight:600 }
      .change-percent{ color:var(--muted); font-size:12px }
      .change-empty{ padding:10px 12px; color:var(--muted); font-style:italic }
      .list-toggle{ margin-top:6px; border:none; background:#e5e7eb; border-radius:999px; padding:6px 14px; font-size:12px; font-weight:600; color:#1f2937; cursor:pointer; align-self:flex-start }
      .list-toggle:hover{ background:#d1d5db }
      .outcome-panel{ position:relative }
      .outcome-header{ display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; gap:12px; padding:4px 8px 12px }
      .outcome-tabs{ display:inline-flex; gap:6px; border-radius:999px; background:#eef2ff; padding:4px; }
      .outcome-tab{ border:none; background:transparent; padding:6px 14px; border-radius:999px; font-weight:600; color:#4b5563; cursor:pointer }
      .outcome-tab.active{ background:#4f46e5; color:#fff; box-shadow:0 4px 12px rgba(79,70,229,0.25) }
      .outcome-tab-group{ display:flex; flex-direction:column; gap:8px; }
      .outcome-category-tabs{ display:inline-flex; gap:6px; border-radius:999px; background:#e5e7eb; padding:4px; margin-top:10px; }
      .outcome-category-tab{ border:none; background:transparent; padding:6px 14px; border-radius:999px; font-weight:600; color:#374151; cursor:pointer }
      .outcome-category-tab.active{ background:#111827; color:#fff; box-shadow:0 4px 12px rgba(17,24,39,0.25) }
      .outcome-chart-toggle{ display:inline-flex; gap:6px; border-radius:999px; background:#f3f4f6; padding:4px; }
      .chart-toggle-btn{ border:none; background:transparent; padding:6px 12px; border-radius:999px; font-weight:600; color:#4b5563; cursor:pointer }
      .chart-toggle-btn.active{ background:#4f46e5; color:#fff; box-shadow:0 4px 12px rgba(79,70,229,0.25) }
      .outcome-funnel{ display:flex; gap:10px; flex-wrap:wrap }
      .funnel-card{ min-width:120px; padding:8px 12px; border:1px solid var(--line); border-radius:14px; display:flex; flex-direction:column; background:#fff }
      .funnel-card .label{ font-size:12px; color:var(--muted) }
      .funnel-card .value{ font-size:18px; font-weight:700; color:#111827 }
      .funnel-card.active{ border-color:#4f46e5; background:#eef2ff }
      .outcome-body{ display:flex; gap:16px; flex-wrap:wrap }
      .outcome-left, .outcome-right{ flex:1 1 320px; min-width:280px }
      #chartOutcomeTypesLegend{ margin-top:8px }
      .outcome-message{ font-size:13px; color:var(--muted); padding:8px 0 }
      .secondary-panels details{ border:1px solid var(--line); border-radius:12px; padding:0; background:#fff }
      .secondary-panels summary{ padding:10px 12px; font-weight:600; cursor:pointer; outline:none }
      .secondary-panels .panel-body{ padding:8px 12px }
      table thead th:nth-child(6), table tbody td:nth-child(6){ min-width:160px }
      tbody tr:nth-child(even){ background:#f9fafb }
      .table-filters{ display:flex; gap:8px; flex-wrap:wrap; padding:12px 16px 0 }
      .table-filter-btn{ border:1px solid var(--line); border-radius:999px; padding:6px 12px; font-size:12px; font-weight:600; background:#fff; color:#374151; cursor:pointer }
      .table-filter-btn.active{ background:#4f46e5; color:#fff; border-color:#4f46e5 }
      .main-tabs{ display:flex; gap:8px; margin:12px 12px 0; }
      .main-tab{ border:none; background:#e5e7eb; padding:6px 14px; border-radius:999px; font-weight:600; color:#374151; cursor:pointer }
      .main-tab.active{ background:#111827; color:#fff; box-shadow:0 4px 12px rgba(17,24,39,0.25) }
      .hidden{ display:none !important; }
      .insights-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:12px; margin-top:12px }
      .insight-card{ border:1px solid var(--line); border-radius:12px; background:#fff; padding:12px 14px; box-shadow:0 6px 18px rgba(15,23,42,0.08); display:flex; flex-direction:column; gap:10px }
      .insight-heading{ font-size:13px; font-weight:700; color:#111827; display:flex; justify-content:space-between; align-items:center }
      .insight-total{ font-size:24px; font-weight:800; color:#111827 }
      .insight-subtext{ font-size:12px; color:#6b7280 }
      .insight-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:6px; font-size:13px; color:#111827 }
      .insight-list li{ display:flex; justify-content:space-between; align-items:center; gap:12px }
      .insight-office-list li{ flex-direction:column; align-items:flex-start; background:#f9fafb; padding:10px 12px; border-radius:10px }
      .insight-office-list .insight-value{ color:#111827; font-weight:600 }
      .insight-office-list .insight-subtext{ font-size:12px; color:#6b7280 }
      .insight-label{ flex:1 }
      .insight-value{ font-weight:600; color:#4f46e5 }
      .insights-intro{ font-size:12px; margin-bottom:6px; color:#6b7280 }
      .insight-empty{ color:#6b7280; font-size:13px }
      @media (min-width: 1024px){ .kpi-grid{ grid-template-columns: repeat(6,minmax(140px,1fr)); } }
      @media (max-width: 980px){ .wrap{ grid-template-columns: 1fr; height:auto } }
    </style>
  </head>
  <body>
    <header>
      <div class="header-left">
        <strong>Screenpop Analytics</strong>
        <div class="muted">Updates on “Done” from any screenpop tab</div>
      </div>
    </header>
    <div id="dashboardView" class="wrap" style="grid-template-columns: 1fr; gap:12px;">
      <div class="panel" style="padding-bottom:0">
        <div class="toolbar" style="justify-content:space-between">
          <div style="display:flex;gap:6px;flex-wrap:wrap">
            <button id="exportCsvBtn">Export CSV</button>
            <button id="clearBtn">Clear</button>
            <input id="mrnSearch" type="text" placeholder="Search MRN" style="height:32px;padding:0 10px;border:1px solid var(--line);border-radius:8px" />
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div role="tablist" aria-label="Range" class="tab-toggle">
            <button id="tabDaily" role="tab" data-view="daily" aria-selected="true" class="active" type="button">Daily</button>
            <button id="tabMonthly" role="tab" data-view="monthly" aria-selected="false" type="button">Monthly</button>
          </div>
          <span id="dailyDateLabel" class="muted"></span>
          <input id="monthPicker" type="month" style="display:none;height:32px;padding:0 8px;border:1px solid var(--line);border-radius:8px" />
          <div style="display:flex;align-items:center;gap:6px">
            <span class="muted" id="officeFilterLabel">Office:</span>
            <div id="officeFilter" class="tab-toggle" role="tablist" aria-label="Office">
              <button type="button" class="active" data-office="all" role="tab" aria-selected="true">All Offices</button>
              <button type="button" data-office="Ann Arbor" role="tab" aria-selected="false">Ann Arbor</button>
              <button type="button" data-office="Plymouth" role="tab" aria-selected="false">Plymouth</button>
              <button type="button" data-office="Wixom" role="tab" aria-selected="false">Wixom</button>
            </div>
          </div>
          <button id="rolloverNow" title="TEST ONLY — roll daily into monthly" style="display:none;height:32px;padding:0 10px;border-radius:8px;border:1px solid var(--line);background:#fff;cursor:pointer">Rollover Now</button>
          <div class="muted" id="countBadge"></div>
        </div>
      </div>
        <div class="kpi-grid">
          <div class="kpi"><div class="label">Total Calls</div><div class="value" id="kpiTotal">0</div></div>
          <div class="kpi"><div class="label">Cancellations</div><div class="value" id="kpiCancel">0</div></div>
          <div class="kpi"><div class="label">Reschedules</div><div class="value" id="kpiResched">0</div></div>
          <div class="kpi"><div class="label">New</div><div class="value" id="kpiNew">0</div></div>
          <div class="kpi"><div class="label">Existing</div><div class="value" id="kpiExisting">0</div></div>
          <div class="kpi"><div class="label">Tasks / Transfers</div><div class="value" id="kpiActions">0 / 0</div></div>
        </div>
      </div>
      <div class="charts">
        <div class="panel wide outcome-panel">
          <h2>Outcome Overview</h2>
          <div class="body">
            <div class="outcome-header">
              <div class="outcome-tab-group">
                <div class="outcome-tabs" id="outcomeTabs" role="tablist" aria-label="Appointment outcomes">
                  <button type="button" class="outcome-tab active" data-outcome="scheduled" role="tab" aria-selected="true">Scheduled</button>
                  <button type="button" class="outcome-tab" data-outcome="rescheduled" role="tab" aria-selected="false">Rescheduled</button>
                  <button type="button" class="outcome-tab" data-outcome="cancelled" role="tab" aria-selected="false">Cancelled</button>
                  <button type="button" class="outcome-tab" data-outcome="no_appointment" role="tab" aria-selected="false">No Appointment</button>
                </div>
                <div class="outcome-chart-toggle" id="outcomeChartToggle" role="group" aria-label="Toggle charts">
                  <button type="button" class="chart-toggle-btn active" data-chart="types">Types</button>
                  <button type="button" class="chart-toggle-btn active" data-chart="reasons">Reasons</button>
                </div>
                <div class="outcome-category-tabs" id="outcomeCategoryTabs" role="tablist" aria-label="Appointment categories">
                  <button type="button" class="outcome-category-tab active" data-category="all" role="tab" aria-selected="true">All</button>
                  <button type="button" class="outcome-category-tab" data-category="medical" role="tab" aria-selected="false">Medical</button>
                  <button type="button" class="outcome-category-tab" data-category="laser" role="tab" aria-selected="false">Laser Dermatology</button>
                  <button type="button" class="outcome-category-tab" data-category="cosmetic" role="tab" aria-selected="false">Cosmetic Dermatology</button>
                </div>
              </div>
              <div class="outcome-funnel" id="outcomeFunnel" aria-live="polite">
                <div class="funnel-card" data-outcome="scheduled">
                  <span class="label">Scheduled</span>
                  <span class="value" id="funnelScheduled">0</span>
                </div>
                <div class="funnel-card" data-outcome="rescheduled">
                  <span class="label">Rescheduled</span>
                  <span class="value" id="funnelRescheduled">0</span>
                </div>
                <div class="funnel-card" data-outcome="cancelled">
                  <span class="label">Cancelled</span>
                  <span class="value" id="funnelCancelled">0</span>
                </div>
                <div class="funnel-card" data-outcome="no_appointment">
                  <span class="label">No Appointment</span>
                  <span class="value" id="funnelNoAppt">0</span>
                </div>
              </div>
            </div>
            <div class="outcome-body">
              <div class="outcome-left" data-chart="types">
                <canvas id="chartOutcomeTypes" class="chart" aria-label="Appointment type distribution by reason"></canvas>
                <div id="chartOutcomeTypesLegend" class="chart-legend"></div>
              </div>
              <div class="outcome-right" data-chart="reasons">
                <canvas id="chartOutcomeReasons" class="chart" aria-label="Top reasons"></canvas>
                <div id="outcomeReasonDetails" class="reason-details"></div>
                <div id="outcomeMessage" class="outcome-message" aria-live="polite"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="panel wide"><h2>Time Distribution (8am–5pm)</h2><div class="body"><canvas id="chartHours" class="chart"></canvas></div></div>
        <div class="panel wide" id="panelWeekdays"><h2>Weekday Distribution (Mon–Fri)</h2><div class="body"><canvas id="chartWeekdays" class="chart"></canvas></div></div>
        <div class="panel allow-overflow"><h2>Scheduling by Office</h2><div class="body chart-with-legend"><canvas id="chartNewExisting" class="chart"></canvas><div id="chartNewExistingLegend" class="chart-legend"></div></div></div>
        <div class="panel"><h2>Confirmation Status</h2><div class="body"><canvas id="chartConfirmations" class="chart"></canvas></div></div>
        <div class="panel allow-overflow"><h2>Medical Appointment Mix</h2><div class="body chart-with-legend"><canvas id="chartApptMedical" class="chart"></canvas><div id="chartApptMedicalLegend" class="chart-legend"></div></div></div>
        <div class="panel allow-overflow"><h2>Laser Dermatology Mix</h2><div class="body chart-with-legend"><canvas id="chartApptLaser" class="chart"></canvas><div id="chartApptLaserLegend" class="chart-legend"></div></div></div>
        <div class="panel allow-overflow"><h2>Cosmetic Dermatology Mix</h2><div class="body chart-with-legend"><canvas id="chartApptCosmetic" class="chart"></canvas><div id="chartApptCosmeticLegend" class="chart-legend"></div></div></div>
        <div class="panel"><h2>Office Mix</h2><div class="body"><canvas id="chartOffices" class="chart"></canvas></div></div>
        <div class="panel"><h2>Reschedule Reasons</h2><div class="body"><canvas id="chartReschedReasons" class="chart"></canvas><div id="reschedReasonDetails" class="reason-details"></div></div></div>
        <div class="panel"><h2>Cancel Reasons</h2><div class="body"><canvas id="chartCancelReasons" class="chart"></canvas><div id="cancelReasonDetails" class="reason-details"></div><div id="cancelReasonLegend" class="reason-legend"></div></div></div>
        <div class="panel"><h2>Tasks by Type</h2><div class="body"><canvas id="chartTasksByType" class="chart"></canvas></div></div>
        <div class="panel"><h2>Transfers by Type</h2><div class="body"><canvas id="chartTransfersByType" class="chart"></canvas></div></div>
      </div>

      <div class="panel wide">
        <h2>Appointment Types</h2>
        <div class="body appt-lists">
          <div class="appt-column">
            <h3>Medical</h3>
            <ol id="listApptMedical" class="appt-list">
              <li class="appt-empty">No medical appointments yet</li>
            </ol>
          </div>
          <div class="appt-column">
            <h3>Laser Dermatology</h3>
            <ol id="listApptLaser" class="appt-list">
              <li class="appt-empty">No laser dermatology appointments yet</li>
            </ol>
          </div>
          <div class="appt-column">
            <h3>Cosmetic Dermatology</h3>
            <ol id="listApptCosmetic" class="appt-list">
              <li class="appt-empty">No cosmetic dermatology appointments yet</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="panel table-panel">
        <h2>Submissions</h2>
        <div class="body">
          <div class="table-filters" id="tableFilters" role="tablist" aria-label="Submission filter">
            <button type="button" class="table-filter-btn active" data-filter="all" role="tab" aria-selected="true">All</button>
            <button type="button" class="table-filter-btn" data-filter="scheduled" role="tab" aria-selected="false">Scheduled</button>
            <button type="button" class="table-filter-btn" data-filter="rescheduled" role="tab" aria-selected="false">Rescheduled</button>
            <button type="button" class="table-filter-btn" data-filter="cancelled" role="tab" aria-selected="false">Cancelled</button>
            <button type="button" class="table-filter-btn" data-filter="no_appointment" role="tab" aria-selected="false">No Appointment</button>
          </div>
          <table id="analyticsTable" aria-label="Screenpop submissions">
            <thead>
              <tr>
                <th>Time</th>
                <th>MRN</th>
                <th>Type</th>
                <th>Scheduled</th>
                <th>Outcome</th>
                <th>Appt Type</th>
                <th>Office</th>
                <th>Reason</th>
                <th>Reason Code</th>
                <th>Old Appt ID</th>
                <th>New Appt ID</th>
                <th>Pair ID</th>
                <th>Confirmed</th>
                <th>Other</th>
                <th>Tasks</th>
                <th>Transfers</th>
              </tr>
            </thead>
            <tbody id="analyticsBody">
              <tr class="empty"><td colspan="16">No submissions yet</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    <script src="./analytics.js" type="module"></script>
  </body>
  </html>
